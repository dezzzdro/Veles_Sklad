# TZ.md

## Задача: Создание приложения для учёта склада

GitHub полностью пусть.
СУБД полностью пуст.

Veles_Sklad

### 1. Общая информация о проекте.
Проект программы Велес Склад
Терминал Git Bash
СУБД Supabase.
Фронтэнд Vercel
Язык Python + Django + Django Admin

### 2. Правила работы с проектом.

GitHub
имя dezzzdro
почта dezzzdro@gmail.com

HTTPS:
https://github.com/dezzzdro/Veles_Sklad.git

SSH:
git@github.com:dezzzdro/Veles_Sklad.git

GitHub CLI:
gh repo clone dezzzdro/Veles_Sklad

Api Supabase
Project URL

https://tqwagbbppfklqgmyyrwj.supabase.co

API Key anonpublic

eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InRxd2FnYmJwcGZrbHFnbXl5cndqIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NTU1Mjk2MjAsImV4cCI6MjA3MTEwNTYyMH0.C4d6-aNDisajHcg7lurnRHdbk-pe3AvE4AIaW_e53eE

### 3. Правила взаимодействия человека и ИИ
- После получения полного контекста — предложить команду для создания файла TZ.md с актуальным содержимым в корне проекта. Нужно создать файл точь в точ, без сокращений содержимого.
- Все команды, требующие определённого контекста каталога, должны включать переход в нужную папку: cd /путь && команда.
- Максимально использовать терминал для всех операций (создание файлов, редактирование, git и т.д.). Если задача решается через терминал — предлагать именно терминальную команду.
- Один запрос — один логический шаг. Не предлагать цепочки команд без проверки результата предыдущего шага.
- При добавлении нового правила — генерировать команду для его добавления в файл TZ.md в корне проекта.
- Если в разделах 1 или 2 (контекст проекта) не хватает критичной информации — предложить команду для её добавления в соответствующий файл (например, PROJECT_CONTEXT.md).
- Предложить команду на git add, git commit с осмысленным сообщением и git push после каждого значимого изменения.
- Всегда указывать на неточности, противоречия или риски в запросах пользователя.
- Все ответы и размышление вести на русском языке.
Перед предложением следующей команды — убедиться, что результат предыдущей команды подтверждён пользователем.
В точности следовать инструкциям пользователя, не интерпретируя намерения.
Если команда может повредить системе (удаление, перезапись, chmod и т.п.) — явно предупреждать и рекомендовать проверить путь и содержимое перед выполнением.
Предлагать идемпотентные или безопасные в повторном запуске команды, где это возможно.
Не домысливать структуру проекта — запрашивать уточнения, если путь или контекст неясны.
Все команды предоставлять в готовом к копированию виде, с пояснением, что они делают.
По запросу — формировать скрипты или многострочные команды с правильным экранированием.
При работе с версиями, зависимостями или окружением — уточнять, как проверить текущее состояние (например, python --version, git status и т.д.).

Работа с СУБД:
1. В таблице СУБД должны быть только те же колонки, что и в разделе приложения.
2. На момент начала разработки сейчас СУБД полностью пуста, без таблиц.


### 1. Склад.
Колонки таблицы:
ID,	Наименование,	Ед.изм.,	Числится,	На складе,	Выдано.
Пояснение значений:
ID - уникальный сгенерированный код товара
Наименование - наименование хранимого товара.
Ед.изм. - единицы измерения хранимого товара.
Числится - сколько товара числистя по бухгалтерии.
На складе - сколько товара реально находится на складе.
Выдано - сколько товара выдано.
Фильтрация каждой колонки. 


### 3. Сборка.
Колонки таблицы:
ID,	Наименование,	Ед.изм.,	Количество.
Пояснение значений:
ID - уникальный сгенерированный код товара
Наименование - наименование хранимого товара.
Ед.изм. - единицы измерения хранимого товара.
Количество - сколько товара будет передано.
Принцип CRUD.
Фильтрация каждой колонки.
Кнопки общего назначения находятся над заголовком таблицы.
Кнопка "Обновить" - считывает текущее состояние таблицы.
Кнопка работы с строкой:
"Редактировать" - позволяет редактировать наименование товара, тип единиц измерения, значение "Числится", значение "На складе", значение "Выдано"
"Удалить строку" - удаляет строку.
"Передать в сборку" - вызывает модальное окно, где указано имя товара, значение "Числится", "На складе", "Остаток после выдачи" (предполагаемая величина после передачи в сборку количества, указанного в строке количества для передачи в сборку), поле ввода количества для передачи в сборку.

### 5. Приход.
Колонки таблицы:
Дата, Наименование,	Ед.изм.,	Количеств, Реестровый номер, УПД.
Пояснение значений:
Дата - время и дата записи в таблицу.
Наименование - наименование принимаемого на храниение товара.
Ед.изм. - единицы измерения хранимого товара.
Количество - сколько товара будет принято.
Фильтрация каждой колонки.
Над заголовком таблицы три секуции, имеющие название.
1) "Принятие прихода", содержит кнопку "Вставить из буфера обмена", "Экспорт из xlxs", "Добавить строку", "Принять":
- "Вставить из буфера обмена" вставляет данные из буфера обмена в колонки Наименование, Ед.изм.,	Количеств.
- "Импорт из xlxs" - экспортирует данные из xlxs файлов данные по колонкам Наименование,	Ед.изм.,	Количеств с первого листа документа.
- "Добавить строку" - добавляет строки отображаемой  таблицы с пустыми ячейка для заполнения.
2) "Документы прихода", содержит кнопку "Реестровый номер заявки", кнопку "УПД".
- рядом с кнопкой "Реестровый номер заявки" есть поле ввода, величина из которого при нажатии кнопки вносит это значение в каждое поле ввода таблицы прихода, но только в те, где заполнено поле "Наименование".
- рядом с кнопкой "УПД" есть поле ввода, величина из которого при нажатии кнопки вносит это значение в каждое поле ввода таблицы прихода, но только в те, где заполнено поле "Наименование".
3) "Редактирование", содержит кнопку "Очистить приход", кнопку "Экспорт в xlsx" 
- "Очистить приход" очищает все поля таблицы прихода.
- "Экспорт в xlsx" экспортирует содержимое таблицы прихода в файл формата xlxs с колонками Наименование, Ед.изм.,	Количеств, название формата Приходла_(текущая дата)
4) "Принять" - переносит все заполненые строки в таблицу Склад, при совпадении наименования - суммирует величину "Числится" и "На склад", при не совпадении наименования - создаёт новую строку с переносом величины из колонки "Количество" в колонки "Числится" и "На склад". После этого делается запись в таблицу "Операции" в соотвестующие колонкис указанием в колонке "Тип операци" значения "Принятый приход", с указанием даты и времени в колонке "Дата".

### 7. Выданное.
Колонки таблицы:
Дата,	ID,	НАИМЕНОВАНИЕ	ЕД.ИЗМ,	КОЛИЧЕСТВО, КОНТРАГЕНТ, ОТВЕТСТВЕННЫЙ,	РЕЕСТРОВЫЙ НОМЕР,	УПД
Пояснение значений:
Дата - время и дата записи в таблицу.
ID - уникальный сгенерированный код товара.
Наименование - наименование принимаемого на храниение товара.
Ед.изм. - единицы измерения выданного товара.
Количество - сколько товара выдано.
Контрагент - имя организации.
Отвественный - имя отвественного организации.
Фильтрация колонок Дата, ID, Наименование, Реестровый номер, УПД.
Выпадающий список Контрагент, выпадающий список Отвественное лицо. 

### 9. Контрагенты.
Карточки с названием организации.
В каждой карточке перечислены отвественные лица.
Принцип CRUD.

### 10. Настройки.
Раздел выбора темы оформления.

### 11. Уведомления.
Настройка уведомлений, включение, отключение, пояснение значений символов.
Колонки таблицы:
Дата, Тип уведомления, Текст уведомления.
Фильтрация каждой колонки.

### 12. Инструмент отладки.
Раздел тестирования соединения с СУБД. Выбор таблицы СУБД для тестирования с вязи.
Инструмент тестовй записи и чтения строк таблицы.
Окно лога запросов и ответов, коды ошибок с расшифровкой.
Кнопка "Копировать лог", "Очистить лог", "Импорт в txt"