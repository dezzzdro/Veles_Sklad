<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>–¢–µ—Å—Ç –º–æ–¥—É–ª–µ–π</title>
</head>
<body>
    <h1>–¢–µ—Å—Ç –Ω–æ–≤–æ–π –º–æ–¥—É–ª—å–Ω–æ–π –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä—ã</h1>
    <div id="test-output"></div>

    <script type="module">
        import { CONFIG } from './js/core/Config.js';
        import { Logger } from './js/core/Utils.js';
        import { databaseService } from './js/services/DatabaseService.js';
        import { notificationService } from './js/services/NotificationService.js';
        import { themeService } from './js/services/ThemeService.js';

        const output = document.getElementById('test-output');

        function log(message) {
            console.log(message);
            output.innerHTML += `<p>${message}</p>`;
        }

        async function testModules() {
            try {
                log('üöÄ –ù–∞—á–∞–ª–æ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è –º–æ–¥—É–ª–µ–π...');

                // –¢–µ—Å—Ç –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏
                log(`‚úÖ Config: ${Object.keys(CONFIG.SECTIONS).length} —Ä–∞–∑–¥–µ–ª–æ–≤`);

                // –¢–µ—Å—Ç —Å–µ—Ä–≤–∏—Å–æ–≤
                log('‚úÖ DatabaseService: ' + (databaseService.isConnected ? '–ü–æ–¥–∫–ª—é—á–µ–Ω' : '–ù–µ –ø–æ–¥–∫–ª—é—á–µ–Ω'));
                log('‚úÖ NotificationService: –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∏—Ä–æ–≤–∞–Ω');
                log('‚úÖ ThemeService: –¢–µ–∫—É—â–∞—è —Ç–µ–º–∞ - ' + themeService.getCurrentTheme());

                // –¢–µ—Å—Ç –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è –∫ –ë–î
                const connectionTest = await databaseService.checkConnection();
                log(`‚úÖ Database connection: ${connectionTest.success ? 'OK' : 'ERROR'}`);

                log('üéâ –í—Å–µ –º–æ–¥—É–ª–∏ –∑–∞–≥—Ä—É–∂–µ–Ω—ã —É—Å–ø–µ—à–Ω–æ!');

            } catch (error) {
                log(`‚ùå –û—à–∏–±–∫–∞: ${error.message}`);
                console.error(error);
            }
        }

        // –ó–∞–ø—É—Å–∫ —Ç–µ—Å—Ç–∞
        testModules();
    </script>
</body>
</html>